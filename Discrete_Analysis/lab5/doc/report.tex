\documentclass[12pt]{article}

\usepackage{fullpage}
\usepackage{multicol,multirow}
\usepackage{tabularx}
\usepackage{listings}
\usepackage{pgfplots}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{pgfplots}
\usepackage{tikz}

% Оригиналный шаблон: http://k806.ru/dalabs/da-report-template-2012.tex

\begin{document}

\section*{Лабораторная работа №5\, по курсу дискрeтного анализа: Суффиксные деревья}

Выполнил студент группы М8О-312Б-22 МАИ \textit{Мамонтов Егор}.

\subsection*{Условие}

\textbf{Вариант:} 2

Найти в заранее известном тексте поступающие на вход образцы с использованием суффиксного массива.

\newpage
\subsection*{Метод решения}

Я предпринял решение задачи с помощью суффиксных массивов, то есть через "сортировку". 
Для начала я должен был написать функцию суффиксного массива, который вернет индексы, расположенные в особом порядке. Благодаря этому массиву суффиксных индексов я могу найти суффиксы.
Далее я должен создать функцию, которая из первой строки, паттерна и массива суффиксных индексов вернет мне индекс вхождения паттерна в первую строку. В конце я должен буду сделать корректный вывод индексов в консоль.
% \newpage
\subsection*{Описание программы}

Для реализации алгоритма были реализованы следующие функции и структуры:
\begin{itemize}
    \item \texttt{struct Symbol} - структура символа, содержащая в себе старый и новый эквивалент, индекс и символ.
    \item \texttt{std::vector<Symbol> suffixArray} - функция строит суффиксный массив для заданной первой строки и возвращает его в виде вектора Symbol с индексами.
    \item \texttt{std::string searchSubstr} - функция находит все вхождения подстроки pattern в первой строке.
    \item \texttt{void symbCountingSort} - функция для сортировки подсчётом посимвольно.
    \item \texttt{void eqCountingSort} - функция для сортировки подсчётом по эквивалентностям.
\end{itemize}

\newpage
\subsection*{Дневник отладки}

\begin{enumerate}
    \item Был получен WA на тесте №3. Для решения проблемы не нужно было выводить номер подстроки, которая не нашлась в первой строке.
    \item Был получен WA на тесте №4. Для решения проблемы нужно было выводить до двоеточия именно номер подстроки, а не номер нахождения вхождения.
    \item Был получен OK, но программа была решена за O(nlog2n). Пришлось переделывать.
\end{enumerate}

\newpage
\subsection*{Тест производительности}

Алгоритм построения суффиксного массива работает за "суперлинейное" время, то есть сложность $O(n log n)$, где n - длина первой строки.

\begin{tikzpicture}
\begin{axis}[xlabel={Время, s}, ylabel={Длина строки, символы}]
\addplot coordinates {
    (0.001727, 1000)
    (0.0102496, 5000)
    (0.0232349, 10000)
    (0.150433, 50000)
    (0.86726, 100000)
    (3.14859, 300000)
    (5.60645, 500000)
    (11.3115, 800000)
    (12.7529, 1000000)
};
\end{axis}
\end{tikzpicture}


\newpage
\subsection*{Выводы}


Я научился строить суффиксный массив, который является быстрым способом найти подстроку в строке, а также менее затратным по памяти, в отличии от суффиксного дерева Укконена. 
\end{document}
